<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Valentine</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;600&display=swap"
          rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            background-color: #ffdde1;
            background-image: linear-gradient(0deg, #ffdde1 0%, #ee9ca7 100%);
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
            text-align: center;
        }

        .container {
            position: relative;
            background: rgba(255, 255, 255, 0.8);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 90%;
        }

        h1 {
            font-family: 'Pacifico', cursive;
            color: #d32f2f;
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .gif-container img {
            width: 100%;
            max-width: 250px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .btn-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            position: relative;
            height: 60px; /* Space for buttons */
        }

        button {
            padding: 12px 24px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s;
            font-family: 'Pacifico', cursive;
        }

        #yesBtn {
            background-color: #4CAF50;
            color: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        #yesBtn:hover {
            transform: scale(1.1);
            background-color: #45a049;
        }

        #noBtn {
            background-color: #f44336;
            color: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            z-index: 10;
            width: 140px; /* Fixed width to prevent resizing */
        }

        /* Success Message Styling */
        #success-message {
            display: none;
        }

        #success-message h1 {
            background: linear-gradient(45deg, #ff6b6b, #ff8787, #ffd93d, #ff6b9d);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradient-shift 3s ease infinite;
            font-size: 3rem;
            text-shadow: 2px 2px 10px rgba(255, 107, 107, 0.3);
        }

        #success-message p {
            font-size: 1.3rem;
            color: #ff6b9d;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(255, 107, 157, 0.2);
            animation: pulse 2s ease-in-out infinite;
        }

        #success-message .container {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 240, 245, 0.95) 100%);
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes glow {
            0%, 100% {
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1),
                           0 0 30px rgba(255, 107, 157, 0.3);
            }
            50% {
                box-shadow: 0 10px 35px rgba(0, 0, 0, 0.15),
                           0 0 50px rgba(255, 107, 157, 0.5);
            }
        }

        /* Floating hearts animation */
        .floating-heart {
            position: fixed;
            font-size: 2rem;
            pointer-events: none;
            animation: float-up 4s ease-in forwards;
            z-index: 1000;
            opacity: 0;
        }

        @keyframes float-up {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Interactive clickable hearts */
        .interactive-heart {
            position: fixed;
            font-size: 3rem;
            cursor: pointer;
            animation: bounce 1s ease-in-out infinite;
            z-index: 999;
            transition: transform 0.1s;
        }

        .interactive-heart:hover {
            transform: scale(1.2);
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .pop-heart {
            animation: pop 0.5s ease-out forwards;
        }

        @keyframes pop {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.5);
            }
            100% {
                transform: scale(0);
                opacity: 0;
            }
        }

        /* Sparkle trail */
        .sparkle {
            position: fixed;
            width: 10px;
            height: 10px;
            background: radial-gradient(circle, #ffd700, #ff69b4);
            border-radius: 50%;
            pointer-events: none;
            animation: sparkle-fade 1s ease-out forwards;
            z-index: 1001;
        }

        @keyframes sparkle-fade {
            0% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: scale(0) rotate(180deg);
                opacity: 0;
            }
        }

        /* Typewriter effect */
        .typewriter {
            overflow: hidden;
            white-space: nowrap;
            display: inline-block;
        }

    </style>
</head>
<body>

<div class="container">
    <div id="question-section">
        <h1>Serli, will you be my Valentine?</h1>

        <div class="gif-container">
            <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExenF5ZTYwbzV3eWx6cWVwNm5pNzh3bWJ1YmlrYnM0cWoxdjJ1a24xdCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o7TKoWXm3okO1kgHC/giphy.gif"
                 alt="Valentine Heart">
        </div>

        <div class="btn-group">
            <button id="yesBtn">Yes! ‚ù§Ô∏è</button>
            <button id="noBtn">No</button>
        </div>
    </div>

    <div id="success-message">
        <h1 id="success-title"></h1>
        <div class="gif-container">
            <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3Z4b3MzZ3B4MzB4Y3B4d3B4Y3B4d3B4Y3B4d3B4Y3B4d3B4/26BRv0ThflsHCqDrG/giphy.gif"
                 alt="Hearts Explosion">
        </div>
        <p id="success-subtitle"></p>
    </div>
</div>

<script>
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const questionSection = document.getElementById('question-section');
    const successMessage = document.getElementById('success-message');

    // Funny texts that cycle through as button evades
    const funnyTexts = ["No", "Nope!", "Try again!", "Not happening!", "No way!", "Nice try!", "Nah", "Maybe?... No!"];
    let textIndex = 0;

    // Logic to make the No button run away
    const moveButton = () => {
        // Get window dimensions
        const width = window.innerWidth;
        const height = window.innerHeight;

        // Generate random position within the window
        // Subtracting button size to keep it on screen
        const newX = Math.random() * (width - 150);
        const newY = Math.random() * (height - 150);

        // Apply new position using fixed positioning so it breaks out of the container
        noBtn.style.position = 'fixed';
        noBtn.style.left = `${newX}px`;
        noBtn.style.top = `${newY}px`;

        // Change button text for comedy
        textIndex = (textIndex + 1) % funnyTexts.length;
        noBtn.textContent = funnyTexts[textIndex];
    };

    // Track mouse position and move button if mouse gets too close
    let isEvading = false;
    document.addEventListener('mousemove', (e) => {
        if (questionSection.style.display === 'none') return; // Don't move after yes is clicked

        const rect = noBtn.getBoundingClientRect();
        const buttonCenterX = rect.left + rect.width / 2;
        const buttonCenterY = rect.top + rect.height / 2;

        // Calculate distance from mouse to button center
        const distance = Math.sqrt(
            Math.pow(e.clientX - buttonCenterX, 2) +
            Math.pow(e.clientY - buttonCenterY, 2)
        );

        // If mouse is within 100px, run away!
        if (distance < 100 && !isEvading) {
            isEvading = true;
            moveButton();
            setTimeout(() => { isEvading = false; }, 300);
        }
    });

    // Also trigger on hover and click as backup
    noBtn.addEventListener('mouseover', moveButton);
    noBtn.addEventListener('click', moveButton);

    // Typewriter effect function
    function typeWriter(element, text, speed = 100) {
        let i = 0;
        element.textContent = '';

        function type() {
            if (i < text.length) {
                element.textContent += text.charAt(i);
                i++;
                setTimeout(type, speed);
            }
        }

        type();
    }

    // Floating hearts animation
    function createFloatingHeart() {
        const heart = document.createElement('div');
        heart.className = 'floating-heart';
        heart.textContent = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíì'][Math.floor(Math.random() * 5)];
        heart.style.left = Math.random() * window.innerWidth + 'px';
        heart.style.bottom = '0px';
        document.body.appendChild(heart);

        setTimeout(() => {
            heart.remove();
        }, 4000);
    }

    // Interactive clickable hearts
    function createInteractiveHeart() {
        const heart = document.createElement('div');
        heart.className = 'interactive-heart';
        heart.textContent = 'üíñ';
        heart.style.left = Math.random() * (window.innerWidth - 100) + 'px';
        heart.style.top = Math.random() * (window.innerHeight - 100) + 'px';

        heart.addEventListener('click', () => {
            heart.classList.add('pop-heart');
            setTimeout(() => heart.remove(), 500);
        });

        document.body.appendChild(heart);

        // Remove after 10 seconds if not clicked
        setTimeout(() => {
            if (heart.parentNode) {
                heart.remove();
            }
        }, 10000);
    }

    // Sparkle trail effect
    let sparkleTrailActive = false;
    document.addEventListener('mousemove', (e) => {
        if (sparkleTrailActive) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = e.clientX + 'px';
            sparkle.style.top = e.clientY + 'px';
            document.body.appendChild(sparkle);

            setTimeout(() => sparkle.remove(), 1000);
        }
    });

    // Logic for clicking Yes
    yesBtn.addEventListener('click', () => {
        // 1. Hide the question
        questionSection.style.display = 'none';

        // 2. Show the success message
        successMessage.style.display = 'block';

        // 3. Start typewriter effect
        const titleElement = document.getElementById('success-title');
        const subtitleElement = document.getElementById('success-subtitle');

        typeWriter(titleElement, 'Yay! I love you! ‚ù§Ô∏è', 80);
        setTimeout(() => {
            typeWriter(subtitleElement, 'See you on the 14th! xoxo', 60);
        }, 1500);

        // 4. Enable sparkle trail
        sparkleTrailActive = true;

        // 5. Start floating hearts
        setInterval(createFloatingHeart, 500);

        // 6. Create interactive hearts periodically
        setTimeout(() => {
            setInterval(createInteractiveHeart, 3000);
        }, 2000);

        // 7. Trigger Confetti
        var duration = 5 * 1000;
        var animationEnd = Date.now() + duration;
        var defaults = {startVelocity: 30, spread: 360, ticks: 60, zIndex: 0};

        function randomInRange(min, max) {
            return Math.random() * (max - min) + min;
        }

        var interval = setInterval(function () {
            var timeLeft = animationEnd - Date.now();

            if (timeLeft <= 0) {
                return clearInterval(interval);
            }

            var particleCount = 50 * (timeLeft / duration);
            // since particles fall down, start a bit higher than random
            confetti(Object.assign({}, defaults, {
                particleCount,
                origin: {x: randomInRange(0.1, 0.3), y: Math.random() - 0.2}
            }));
            confetti(Object.assign({}, defaults, {
                particleCount,
                origin: {x: randomInRange(0.7, 0.9), y: Math.random() - 0.2}
            }));
        }, 250);
    });
</script>
</body>
</html>